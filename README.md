<p align="center" style="margin-top:20px; margin-bottom:20px;">
  <img src="https://capsule-render.vercel.app/api?type=Blur&color=0:ec4899,100:8b5cf6&height=300&section=header&text=👟G-WALK%20프로젝트&fontSize=70&fontColor=000000&stroke=ec4899&strokeWidth=2&animation=fadeIn" alt="G-WALK Header" />
</p>

<p align="center">
  <img width="824" height="152" alt="image" src="https://github.com/user-attachments/assets/dc0c9dfa-9cad-4a47-aba9-722381430ca3" />
</p>

<div align="center">

👋 안녕하세요, 혁신을 사랑하는 여러분! 🌟  
<br><br>
우리는 <b>런웨이팀</b>, 세상을 따뜻하게 바꾸는 <b>스마트 신발 개발자팀</b>입니다. 👣💡  
<br><br>
우리의 프로젝트는 단순한 기술이 아닌,<br>
<b>치매 어르신의 안전한 일상과 가족의 안심을 지켜주는 따뜻한 발걸음</b>입니다. 🧓❤️  
<br><br>
라즈베리파이와 BLE 비콘, 카메라, 편리한 게시보드를 통해<br>
어르신의 이동을 감지하고, 실시간 알림으로 보호자에게 알려주는 스마트 시스템을 구축하고 있습니다.<br>
복잡한 기술 속에서도 궁극적인 목표는 단 하나,<br>
<b>“누구나 잃어버리지 않는 일상”</b>을 만드는 것입니다. 🌍💫  
<br><br> 
우리는 사람과 기술이 만나는 지점에서<br>
안전, 배려, 그리고 한 걸음이 누군가에겐 큰 희망이 됩니다. 💖👟  

</div>

<p align="right">
  <a href="https://git.io/typing-svg">
    <img src="https://readme-typing-svg.demolab.com?font=Courgette&duration=3000&pause=1000&width=435&lines=Team+Runway" alt="Typing SVG" />
  </a>
</p>




---

## 💡치매 노인의 배회 방지를 위한 스마트 신발 'G Walk' 프로젝트 개요

**1-1. 프로젝트 소개**
- 프로젝트 명 : 치매 노인의 배회 방지를 위한 스마트 신발 'G Walk'
- 프로젝트 정의 : 치매노인의 실종을 방지하기 위해서는 골든타임 확보가 필요하며 실시간 및 근거리 위치 추적을 구현하여 배회 초기에 배회자의 위치를 확보하는 시스템
  
- (신발이미지 삽입)
<br><br>

**1-2. 개발 배경 및 필요성**

치매 환자의 배회 시 <mark>골든타임</mark>을 확보하지 못하면 실종이나 사고로 이어질 수 있습니다.

그러나 기존의 대책으로 활용되는 **팔찌·목걸이형 장치**는 <mark>착용 거부감</mark>이 크고, <mark>세탁이 어렵다</mark>는 한계가 있습니다.  
특히 대중적으로 사용하는 **GPS 기반 기술**은 <mark>전력 소모가 큼</mark>으로 <mark>매일 충전</mark>해야 하는 불편이 있으며, **기기 크기·가격 부담**으로 보급에 제약이 따릅니다.

이에 우리는 이러한 장벽을 낮추기 위해 **신발 일체형 시스템**을 개발하고자 하였습니다.  
신발은 일상적으로 누구나 착용하는 물품이기에 **거부감이 적고**, 내부에 **소형 비콘 칩 내장**으로 보다 **간편하고 효율적인 배회 방지** 기능을 구현할 수 있습니다.
<br><br>

**1-3. 프로젝트 특장점**

### 🔋 저전력·저비용 BLE 비콘
고비용·고전력인 **GPS**를 대신해 **저전력·저비용 BLE 비콘**을 사용했습니다.  
한 번 충전으로 **장기간 사용이 가능**하여 **경제성을 확보**했습니다.

---

### 👟 사용자 친화적 디자인
**일반 신발과 유사한 디자인**에 **꽃잎 모양 비콘**을 적용하여 **착용 거부감과 낙인효과를 최소화**했습니다.

---

### 📷 보호자 실시간 대응 지원
**출입 시 촬영된 인상착의 사진**을 **보호자에게 실시간 전송**하여 **신속한 추적 및 대응이 가능**합니다.
<br><br>

**1-4. 주요 기능**

 <소프트웨어>
- 이탈 시 관리자(요양보호사)가 대시보드를 통한 이탈 감지
- 배회 치매노인의 신고 및 추적을 위해 메일을 통한 사진 전송(보호자, 경찰, 요양기관)

 <하드웨어>
- 카메라 : 외출 감지 및 촬영
- BLE 비콘 : 주파수 발신(저전력, 소형화)
- 라즈베리파이 : 주파수 수신 및 감지, 거리측정, 기록분석, 알람 등 제공
<br><br>

**1-5. 기대 효과 및 활용 분야**

<기대효과>
- 치매 노인에게 거부감이 없는 디자인 및 기능 설계로 실효성 높은 제품
- 출입 미 위험한 움직임에 실시간 시각 정보 제공으로 보호자 대응력 향상
- 저전력 및 교체형 구조로 유지관리 편의성과 시장 경쟁력 확보

<활용분야>
- 소형화 모듈로 인하여 스마트 신발 시장으로 확산 가능
- 근거리 지역에서의 이탈 방지를 위한 아동·장애인 등 확대 가능
- 지자체 사회서비스 및 수신기를 상호 연계하여 광역 지역 안전 돌봄 체계 구축
<br><br>

**1-6. 기술 스택**
- 운영체제(OS) : Linux (라즈베리파이 기반, 안정성과 호환성 확보)
- 프로그래밍 언어 : Python (비콘 신호 수집, 거리 계산, 데이터 처리 등)
- 데이터베이스(DB) : MySQL (비콘 정보·사용자 위치 데이터 저장)
- 하드웨어(H/W) :
 카메라 (현관문 촬영, 인상착의 인식 및 보호자 전송)
 BLE 비콘 (ID, RSSI 기반 위치 추적)
 라즈베리파이 (센서 수집·처리·데이터 전송)
 SD카드 (운영 데이터 및 임시 저장)
<br><br>

---

## **💡2. 팀원 소개**
| <img width="80" height="100" src="https://github.com/user-attachments/assets/ab73bb1c-c1d4-464d-8ad3-635b45d5a8ae" > | <img width="80" height="100" alt="image" src="https://github.com/user-attachments/assets/c7f66b7c-ab84-41fa-8fba-b49dba28b677" > | <img width="80" height="100" alt="image" src="https://github.com/user-attachments/assets/c33252c7-3bf6-43cf-beaa-a9e2d9bd090b" > | <img width="80" height="100" alt="image" src="https://github.com/user-attachments/assets/0d5909f0-fc73-4ab9-be09-4d48e3e71083" > | <img width="80" height="100" alt="image" src="https://github.com/user-attachments/assets/c7f66b7c-ab84-41fa-8fba-b49dba28b677" > |
|:---:|:---:|:---:|:---:|:---:|
| **이유림** | **엄지수** | **이화연** | **이효빈** | **홍유민** |
| • 개발총괄 <br> • 시스템 구조 설계 및 전체 일정 관리 | • 프론트엔드 개발 <br> • 사용자 인터뷰·요구사항 분석 | • 하드웨어 및 카메라 제어 담당 <br> • 시각자료 제작 |• 디자인 총괄 <br> • 데이터 전송 및 이메일 알림 모듈 개발 | • 백엔드 개발 (Flask 서버) <br> • 시연 담당 |

---

## **💡3. 시스템 구성도**

- 하드웨어 구성도
  
<img width="706" height="454" alt="image" src="https://github.com/user-attachments/assets/204c05eb-3459-4bd5-a616-f1a85e0a6fc4" />

 - 시스템 구성도
   
<img width="375" height="455" alt="image" src="https://github.com/user-attachments/assets/dc7cc60b-2ca1-4813-83ef-d659a8da5e84" />




---

## **💡4. 작품 소개영상**

[![한이음 공모전 영상 이름](유튜브 썸네일)](유튜브 링크)




---

## **💡5. 핵심 소스코드**

["배회 방지 스마트 신발”의 제어용 사이드바 GUI 프로그램]
- 라즈베리파이에 연결된 카메라, 비콘, 추적 기능, 메일 전송, 대시보드 등을
버튼 하나로 시작·중지하거나 열 수 있는 제어 패널
- 직관적인 UI로 만들어져, 사용자가 터미널 명령어 없이도 쉽게 스마트 신발 기능을 조작할 수 있다.
  
```Python
# -*- coding: utf-8 -*-
import os, threading, webbrowser, requests
import customtkinter as ctk
from PIL import Image

# ==== 라즈베리 에이전트 ====
PI_HOST = "192.168.218.225"
PI_PORT = 8088
TOKEN   = "change-me-please"
API_BASE = f"http://{PI_HOST}:{PI_PORT}"
DASH_URL = f"http://{PI_HOST}:5000/dashboard"

# ==== 사이즈/스타일 (핑크 & 살짝 키움) ====
APP_W, APP_H = 84, 460          # 창 크기 (조금 더 크게)
BAR_W        = 66               # 사이드바 폭
BTN_SIZE     = 44               # 원형 버튼 크기
BTN_RADIUS   = BTN_SIZE // 2
ICON_FONT    = ("Segoe UI Emoji", 20, "bold")
HINT_FONT    = ("Segoe UI", 12, "bold")

# 컬러 (핑크 톤)
COLOR_MAIN   = "#ec4899"        # 메인 핑크
COLOR_HOVER  = "#db2777"        # 호버 핑크
BG_APP       = "#fff1f5"        # 아주 연한 핑크 배경

# ==== 로고 이미지 ====
HERE = os.path.dirname(os.path.abspath(__file__))
LOGO_PATH = os.path.join(HERE, "logo.png")   # 같은 폴더의 logo.png
LOGO_SIZE = 50                               # 로고 크기 (조금 키움)

def api_post(action):
    try:
        r = requests.post(
            f"{API_BASE}/run",
            json={"action": action},
            headers={"X-Token": TOKEN},
            timeout=10
        )
        return r.status_code, r.json()
    except Exception as e:
        return 0, {"ok": False, "error": str(e)}

def api_post_try(actions):
    for act in actions:
        code, res = api_post(act)
        if code != 400 or res.get("error") != "unknown action":
            return code, res
    return code, res

class CompactSidebar(ctk.CTk):
    def __init__(self):
        super().__init__()
        self.title("SmartShoe Mini")
        self.geometry(f"{APP_W}x{APP_H}")
        self.resizable(False, False)
        ctk.set_appearance_mode("light")
        self.configure(fg_color=BG_APP)

        # 사이드바
        bar = ctk.CTkFrame(self, fg_color="white", corner_radius=24, width=BAR_W)
        bar.pack(side="left", fill="y", padx=8, pady=12)

        # 상단 로고 (가운데 정렬)
        self._add_logo(bar)

        # 공용 토스트 라벨
        self.toast = ctk.CTkLabel(
            self, text="", fg_color="white", text_color=COLOR_MAIN,
            corner_radius=12, font=HINT_FONT, padx=8, pady=4
        )
        self.toast.place_forget()

        # 원형 버튼들
        self._add_btn(bar, "📷", "카메라",   key="camera")
        self._add_btn(bar, "📡", "비콘",     key="beacon")
        self._add_btn(bar, "📍", "비콘 추적", key="track",
                      start_actions=("track_start", "beacon_start"),
                      stop_actions=("track_stop",  "beacon_stop"))
        self._add_btn(bar, "📊", "대시보드 (Ctrl+클릭=열기)", key="dash",
                      open_on_ctrl=True)
        self._add_btn(bar, "✉️", "메일 테스트", key="mail", oneshot=True)

    # ---------------- UI ----------------
    def _add_logo(self, parent):
        holder = ctk.CTkFrame(parent, fg_color="transparent")
        holder.pack(pady=(6, 12))
        try:
            img = Image.open(LOGO_PATH).convert("RGBA")
            img = img.resize((LOGO_SIZE, LOGO_SIZE), Image.LANCZOS)
            cimg = ctk.CTkImage(light_image=img, dark_image=img, size=(LOGO_SIZE, LOGO_SIZE))
            ctk.CTkLabel(holder, image=cimg, text="").pack()
            holder._cimg = cimg  # GC 방지
        except Exception:
            ctk.CTkLabel(holder, text="🌸", font=("Segoe UI Emoji", 22)).pack()

    def _add_btn(self, parent, icon, tooltip, key,
                 oneshot=False, open_on_ctrl=False,
                 start_actions=None, stop_actions=None):
        btn = ctk.CTkButton(
            parent, text=icon, font=ICON_FONT,
            width=BTN_SIZE, height=BTN_SIZE, corner_radius=BTN_RADIUS,
            fg_color=COLOR_MAIN, hover_color=COLOR_HOVER,
            text_color="white", command=lambda: None
        )
        btn.pack(pady=10)

        def left_click(evt=None):
            if open_on_ctrl and evt and (evt.state & 0x0004):
                webbrowser.open(DASH_URL); self._toast("대시보드 열기"); return
            if oneshot:
                self._run("mail_test", toast="메일 전송 요청")
            else:
                if start_actions:
                    self._run_multi(start_actions, toast=f"{tooltip} 시작")
                else:
                    self._run(f"{key}_start", toast=f"{tooltip} 시작")

        def right_click(evt=None):
            if not oneshot:
                if stop_actions:
                    self._run_multi(stop_actions, toast=f"{tooltip} 중지")
                else:
                    self._run(f"{key}_stop", toast=f"{tooltip} 중지")

        def on_enter(evt=None):
            by = btn.winfo_rooty() - self.winfo_rooty()
            self.toast.configure(text=tooltip)
            self.toast.place(x=APP_W-2, y=by-2)

        btn.bind("<Button-1>", left_click)
        btn.bind("<Button-3>", right_click)
        btn.bind("<Enter>", on_enter)
        btn.bind("<Leave>", lambda e: self.toast.place_forget())

    # ---------------- 동작 ----------------
    def _run(self, action, toast=None):
        def worker():
            code, res = api_post(action)
            print(action, "→", code, res)
        threading.Thread(target=worker, daemon=True).start()
        if toast: self._toast(toast)

    def _run_multi(self, actions, toast=None):
        def worker():
            code, res = api_post_try(actions)
            print(actions, "→", code, res)
        threading.Thread(target=worker, daemon=True).start()
        if toast: self._toast(toast)

    def _toast(self, text, ms=1200):
        self.toast.configure(text=text)
        if not self.toast.winfo_ismapped():
            self.toast.place(x=APP_W-2, y=12)
        self.after(ms, lambda: self.toast.place_forget())

if __name__ == "__main__":
    CompactSidebar().mainloop()
```

